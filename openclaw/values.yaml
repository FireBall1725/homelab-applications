openclaw:
  app-template:
    configMode: merge

    controllers:
      main:
        containers:
          main:
            envFrom:
              - secretRef:
                  name: openclaw-secrets

    ingress:
      main:
        enabled: true
        className: internal
        hosts:
          - host: openclaw.k8s.firekatt.ca
            paths:
              - path: /
                pathType: Prefix
                service:
                  identifier: main
                  port: http

    persistence:
      data:
        storageClass: longhorn

    configMaps:
      config:
        enabled: true
        data:
          openclaw.json: |
            {
              "gateway": {
                "port": 18789,
                "mode": "local",
                "trustedProxies": ["10.244.13.176", "10.244.11.27", "10.244.12.133", "10.244.13.126"],
                "controlUi": {
                  "allowedOrigins": ["https://openclaw.k8s.firekatt.ca"]
                }
              },
              "browser": {
                "enabled": true,
                "defaultProfile": "default",
                "profiles": {
                  "default": {
                    "cdpUrl": "http://localhost:9222",
                    "color": "#4285F4"
                  }
                }
              },
              "models": {
                "mode": "merge",
                "providers": {
                  "ollama": {
                    "baseUrl": "http://ollama.app-ai.svc.cluster.local:11434",
                    "apiKey": "ollama-local",
                    "models": [
                      {
                        "id": "qwen3:32b",
                        "name": "Qwen3 32B",
                        "reasoning": true,
                        "input": ["text"],
                        "cost": { "input": 0, "output": 0, "cacheRead": 0, "cacheWrite": 0 },
                        "contextWindow": 40960,
                        "maxTokens": 40960
                      },
                      {
                        "id": "llama3.2:3b",
                        "name": "Llama 3.2 3B",
                        "reasoning": false,
                        "input": ["text"],
                        "cost": { "input": 0, "output": 0, "cacheRead": 0, "cacheWrite": 0 },
                        "contextWindow": 131072,
                        "maxTokens": 131072
                      }
                    ]
                  }
                }
              },
              "agents": {
                "defaults": {
                  "workspace": "/home/node/.openclaw/workspace",
                  "model": {
                    "primary": "ollama/qwen3:32b",
                    "fallbacks": ["anthropic/claude-sonnet-4-6"]
                  },
                  "userTimezone": "America/Toronto",
                  "timeoutSeconds": 600,
                  "maxConcurrent": 1
                },
                "list": [
                  {
                    "id": "main",
                    "default": true,
                    "identity": {
                      "name": "FireBot",
                      "emoji": "ðŸ”¥"
                    }
                  }
                ]
              },
              "session": {
                "scope": "per-sender",
                "store": "/home/node/.openclaw/sessions",
                "reset": {
                  "mode": "idle",
                  "idleMinutes": 60
                }
              },
              "logging": {
                "level": "info",
                "consoleLevel": "info",
                "consoleStyle": "compact",
                "redactSensitive": "tools"
              },
              "tools": {
                "profile": "full",
                "web": {
                  "search": {
                    "enabled": false
                  },
                  "fetch": {
                    "enabled": true
                  }
                }
              },
              "channels": {
                "discord": {
                  "token": "${DISCORD_BOT_TOKEN}"
                }
              }
            }
